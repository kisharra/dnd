!function(){"use strict";const e="trello-dnd-state";function t(t){localStorage.setItem(e,JSON.stringify(t))}document.addEventListener("DOMContentLoaded",()=>{const n=function(){try{const t=localStorage.getItem(e);return t?JSON.parse(t):{columns:[[],[],[]]}}catch{return{columns:[[],[],[]]}}}();!function(e,n){function c(){e.innerHTML="",["Todo","In Progress","Done"].forEach((o,d)=>{const l=function(e,n,c,o){const d=document.createElement("div");d.className="column";const l=document.createElement("div");l.className="column__header";const s=document.createElement("h3");s.className="column__title",s.textContent=e,l.appendChild(s),d.appendChild(l);const a=document.createElement("div");a.className="column__body",a.dataset.columnIndex=n,d.appendChild(a),c.columns[n].forEach((e,d)=>{const l=function(e,n,c,o,d){const l=document.createElement("div");l.className="card",l.draggable=!1,l.dataset.columnIndex=n,l.dataset.cardIndex=c;const s=document.createElement("div");s.className="card__text",s.textContent=e;const a=document.createElement("button");return a.className="card__remove",a.innerHTML="&times;",a.addEventListener("click",()=>{o.columns[n].splice(c,1),t(o),d()}),l.appendChild(s),l.appendChild(a),l}(e,n,d,c,o);a.appendChild(l)});const r=document.createElement("div");r.className="add";const i=document.createElement("button");return i.className="add__btn",i.textContent="+ Add another card",i.addEventListener("click",()=>{i.style.display="none";const e=function(e,n,c,o){const d=document.createElement("form");d.className="add__form";const l=document.createElement("textarea");l.className="add__textarea",l.required=!0;const s=document.createElement("div");s.className="add__actions";const a=document.createElement("button");a.type="submit",a.className="btn",a.textContent="Add Card";const r=document.createElement("button");return r.type="button",r.className="btn secondary",r.textContent="Cancel",r.addEventListener("click",()=>{d.remove(),o.style.display=""}),d.addEventListener("submit",o=>{o.preventDefault();const d=l.value.trim();d&&(n.columns[e].push(d),t(n),c())}),s.appendChild(a),s.appendChild(r),d.appendChild(l),d.appendChild(s),d}(n,c,o,i);r.appendChild(e)}),r.appendChild(i),d.appendChild(r),d}(o,d,n,c);e.appendChild(l)})}(function(e,n,c){let o=null,d=null,l=null,s=0,a=0;function r(e){if(!d)return;d.style.left=e.clientX-s+"px",d.style.top=e.clientY-a+"px";const t=e.target.closest(".column__body");if(t){const n=[...t.querySelectorAll(".card")].filter(e=>e!==o);let c=!1;for(const o of n){const n=o.getBoundingClientRect();if(e.clientY<n.top+n.height/2){t.insertBefore(l,o),c=!0;break}}c||t.appendChild(l)}}function i(){if(!d||!l||!o)return;const s=l.closest(".column__body"),a=parseInt(s.dataset.columnIndex,10),m=[...s.children].indexOf(l),u=parseInt(o.dataset.columnIndex,10),p=[...e.querySelector(`.column__body[data-column-index="${u}"]`).querySelectorAll(".card")].indexOf(o);if(-1!==p){const[e]=n.columns[u].splice(p,1);n.columns[a].splice(m,0,e),t(n)}d&&d.remove(),l&&l.remove(),o&&(o.style.display=""),d=null,o=null,l=null,document.body.classList.remove("grabbing"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),c()}e.addEventListener("mousedown",e=>{const t=e.target.closest(".card");if(!t||e.target.closest(".card__remove"))return;o=t;const n=t.getBoundingClientRect();s=e.clientX-n.left,a=e.clientY-n.top,d=t.cloneNode(!0),d.classList.add("dragging"),d.style.width=n.width+"px",d.style.left=e.clientX-s+"px",d.style.top=e.clientY-a+"px",d.style.position="fixed",d.style.pointerEvents="none",document.body.appendChild(d),l=document.createElement("div"),l.className="placeholder",l.style.height=n.height+"px",t.parentNode.insertBefore(l,t.nextSibling),t.style.display="none",document.body.classList.add("grabbing"),document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)})})(e,n,c),c()}(document.getElementById("board"),n)})}();
//# sourceMappingURL=bundle.c57b9c0c1a1d29aafc0c.js.map